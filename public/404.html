<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Ants Event Scheduler</title>
    <script>
      // GitHub Pages SPA redirect solution
      // This script takes the current path and redirects to the main index.html
      // with the path preserved as a query parameter, which the app can then handle

      const pathSegmentsToKeep = 1; // Keep base path segment for GitHub Pages

      const currentPath = window.location.pathname;
      const basePath = "/the-ants-helpers/";

      // Remove the base path to get the SPA route
      let spaRoute = currentPath;
      if (currentPath.startsWith(basePath)) {
        spaRoute = currentPath.substring(basePath.length);
      }

      // If there's a route to preserve, redirect with it as a parameter
      if (spaRoute && spaRoute !== "/") {
        const redirectUrl =
          basePath +
          "?p=" +
          encodeURIComponent("/" + spaRoute) +
          (window.location.search
            ? "&" + window.location.search.substring(1)
            : "") +
          window.location.hash;

        window.location.replace(redirectUrl);
      } else {
        // Just redirect to the home page
        window.location.replace(basePath);
      }
    </script>
  </head>
  <body>
    <div
      style="text-align: center; padding: 50px; font-family: Arial, sans-serif"
    >
      <h1>Redirecting...</h1>
      <p>
        If you are not redirected automatically,
        <a href="/the-ants-helpers/">click here</a>.
      </p>
    </div>
  </body>
</html>
